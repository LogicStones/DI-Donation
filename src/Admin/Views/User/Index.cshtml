@model IEnumerable<UsersListViewModel>
@{
	ViewData["Title"] = User.IsInRole("Admin") ? "Companies List" : "Users List";
}

<div class="container-fluid">
	<div class="row">
		<div class="col-lg-12 col-md-12">
			<div class="card">
				<div class="card-body">
                    <div class="row">
                        @if (User.IsInRole("Admin"))
                        {
                            <div class="col-md-6">
                                <h4 class="card-title">Companies</h4>
                                <h6 class="card-subtitle">List of all Companies</h6>
                            </div>
                            <div class="col-md-6 pull-right">
                                <a asp-action="Create" type="button" class="btn btn-success btn-rounded color1" style="float: right !important;"><i class="fa fa-plus-circle m-r-5"></i> Add New Company</a>
                            </div>
                        }
                        else
                        {
                            <div class="col-md-6">
                                <h4 class="card-title">Users</h4>
                                <h6 class="card-subtitle">List of all Users</h6>
                            </div>
                            <div class="col-md-6 pull-right">
                                <a asp-action="Create" type="button" class="btn btn-success btn-rounded color1" style="float: right !important;"><i class="fa fa-plus-circle m-r-5"></i> Add New User</a>
                            </div>
                        }
                    </div>
                    <div class="table-responsive m-t-40">
                        @if (User.IsInRole("Admin"))
                        {
                            <table id="myTable" class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>Company Logo</th>
                                        <th>Company Name</th>
                                        <th>Email Address</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var user in Model)
                                    {
                                        <tr>
                                            <td>
                                                <img src="@user.CompanyLogo" height="40" class="rounded-circle" />
                                            </td>
                                            <td><h6>@user.CompanyName</h6></td>
                                            <td><h6>@user.UserName</h6></td>
                                            <td>
                                                <div class="btn-group">
                                                    <a asp-action="Edit" asp-route-id="@user.Id" type="button" class="btn btn-success color1">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    &nbsp;
                                                    <a asp-action="Delete" asp-route-id="@user.Id" type="button" class="btn btn-danger">
                                                        <i class="fa fa-trash"></i>
                                                    </a>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        }
                        else
                        {
                            <table id="myTable" class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>Email Address</th>
                                        <th>Assigned Form</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var user in Model)
                                    {
                                    <tr>
                                        <td><h6>@user.UserName</h6></td>
                                        <td><h6>@user.FormTitle</h6></td>
                                        <td>
                                            <div class="btn-group">
                                                <a asp-action="Edit" asp-route-id="@user.Id" type="button" class="btn btn-success color1">
                                                    <i class="fa fa-edit"></i>
                                                </a>
                                                @*&nbsp;
                                                <a asp-action="Delete" asp-route-id="@user.Id" type="button" class="btn btn-danger">
                                                    <i class="fa fa-trash"></i>
                                                </a>*@
                                            </div>
                                        </td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        }
                    </div>
                </div>
			</div>
		</div>
	</div>
</div>